{"ast":null,"code":"import _objectSpread from \"/Users/Hadley/src/workout-logger/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { createSlice, createSelector } from 'redux-starter-kit';\nconst initialState = {\n  weight: {\n    measurements: [{\n      timestamp: 1562783942272,\n      entry: 160\n    }, {\n      timestamp: 1562797642272,\n      entry: 190\n    }, {\n      timestamp: 1562123042272,\n      entry: 80\n    }, {\n      timestamp: 1562782452272,\n      entry: 480\n    }],\n    unit: 'lbs'\n  },\n  waist: {\n    measurements: [{\n      timestamp: 1562783942272,\n      entry: 60\n    }, {\n      timestamp: 1562797642272,\n      entry: 90\n    }, {\n      timestamp: 1562123042272,\n      entry: 30\n    }, {\n      timestamp: 1562782452272,\n      entry: 80\n    }],\n    unit: 'in'\n  }\n}; // Custom Actions\n\nfunction addOrUpdateMeasurement(index, type, measurement) {\n  return {\n    type: 'measurementHistory/addOrUpdateMeasurement',\n    meta: {\n      index: index,\n      type: type\n    },\n    payload: {\n      timestamp: Date.now(),\n      measurement: measurement\n    }\n  };\n} // Reducers\n\n\nfunction addOrUpdateMeasurementReducer(state, {\n  payload,\n  meta\n}) {\n  if (isNaN(meta.index)) {\n    state[meta.type].unshift(payload);\n  } else {\n    state[meta.type][meta.index].measurement = payload.measurement;\n  }\n}\n\nconst measurementHistory = createSlice({\n  slice: 'measurementHistory',\n  initialState: initialState,\n  reducers: {\n    addOrUpdateMeasurement: addOrUpdateMeasurementReducer\n  }\n});\n\nconst getMeasurementHistory = (state, props) => {\n  console.log('selector called');\n  let newMeasurements = state.measurementHistory[props.name].measurements.map(e => {\n    return _objectSpread({}, e);\n  });\n  return {\n    entries: newMeasurements,\n    unit: state.measurementHistory[props.name].unit\n  };\n};\n\nconst getMeasurementTypesAlphabetized = createSelector(['measurementHistory'], history => {\n  return Object.keys(history).sort().map(name => {\n    return {\n      name: name,\n      unit: history[name].unit\n    };\n  });\n});\nconst actions = measurementHistory.actions,\n      reducer = measurementHistory.reducer; // Overwite generated actions with custom actions.\n\nactions.addOrUpdateMeasurement = addOrUpdateMeasurement;\nexport { getMeasurementTypesAlphabetized, getMeasurementHistory };\nexport { actions as measurementHistoryActions };\nexport default reducer;","map":{"version":3,"sources":["/Users/Hadley/src/workout-logger/client/src/redux/slices/measurementHistory.js"],"names":["createSlice","createSelector","initialState","weight","measurements","timestamp","entry","unit","waist","addOrUpdateMeasurement","index","type","measurement","meta","payload","Date","now","addOrUpdateMeasurementReducer","state","isNaN","unshift","measurementHistory","slice","reducers","getMeasurementHistory","props","console","log","newMeasurements","name","map","e","entries","getMeasurementTypesAlphabetized","history","Object","keys","sort","actions","reducer","measurementHistoryActions"],"mappings":";AAAA,SAASA,WAAT,EAAsBC,cAAtB,QAA4C,mBAA5C;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,MAAM,EAAE;AACNC,IAAAA,YAAY,EAAE,CACZ;AACEC,MAAAA,SAAS,EAAE,aADb;AAEEC,MAAAA,KAAK,EAAE;AAFT,KADY,EAKZ;AACED,MAAAA,SAAS,EAAE,aADb;AAEEC,MAAAA,KAAK,EAAE;AAFT,KALY,EASZ;AACED,MAAAA,SAAS,EAAE,aADb;AAEEC,MAAAA,KAAK,EAAE;AAFT,KATY,EAaZ;AACED,MAAAA,SAAS,EAAE,aADb;AAEEC,MAAAA,KAAK,EAAE;AAFT,KAbY,CADR;AAmBNC,IAAAA,IAAI,EAAE;AAnBA,GADW;AAsBnBC,EAAAA,KAAK,EAAE;AACLJ,IAAAA,YAAY,EAAE,CACZ;AACEC,MAAAA,SAAS,EAAE,aADb;AAEEC,MAAAA,KAAK,EAAE;AAFT,KADY,EAKZ;AACED,MAAAA,SAAS,EAAE,aADb;AAEEC,MAAAA,KAAK,EAAE;AAFT,KALY,EASZ;AACED,MAAAA,SAAS,EAAE,aADb;AAEEC,MAAAA,KAAK,EAAE;AAFT,KATY,EAaZ;AACED,MAAAA,SAAS,EAAE,aADb;AAEEC,MAAAA,KAAK,EAAE;AAFT,KAbY,CADT;AAmBLC,IAAAA,IAAI,EAAE;AAnBD;AAtBY,CAArB,C,CA6CA;;AACA,SAASE,sBAAT,CAAgCC,KAAhC,EAAuCC,IAAvC,EAA6CC,WAA7C,EAA0D;AACxD,SAAO;AACLD,IAAAA,IAAI,EAAE,2CADD;AAELE,IAAAA,IAAI,EAAE;AACJH,MAAAA,KAAK,EAAEA,KADH;AAEJC,MAAAA,IAAI,EAAEA;AAFF,KAFD;AAMLG,IAAAA,OAAO,EAAE;AACPT,MAAAA,SAAS,EAAEU,IAAI,CAACC,GAAL,EADJ;AAEPJ,MAAAA,WAAW,EAAEA;AAFN;AANJ,GAAP;AAWD,C,CAED;;;AACA,SAASK,6BAAT,CAAuCC,KAAvC,EAA8C;AAAEJ,EAAAA,OAAF;AAAWD,EAAAA;AAAX,CAA9C,EAAiE;AAC/D,MAAIM,KAAK,CAACN,IAAI,CAACH,KAAN,CAAT,EAAuB;AACrBQ,IAAAA,KAAK,CAACL,IAAI,CAACF,IAAN,CAAL,CAAiBS,OAAjB,CAAyBN,OAAzB;AACD,GAFD,MAEO;AACLI,IAAAA,KAAK,CAACL,IAAI,CAACF,IAAN,CAAL,CAAiBE,IAAI,CAACH,KAAtB,EAA6BE,WAA7B,GAA2CE,OAAO,CAACF,WAAnD;AACD;AACF;;AAED,MAAMS,kBAAkB,GAAGrB,WAAW,CAAC;AACrCsB,EAAAA,KAAK,EAAE,oBAD8B;AAErCpB,EAAAA,YAAY,EAAEA,YAFuB;AAGrCqB,EAAAA,QAAQ,EAAE;AACRd,IAAAA,sBAAsB,EAAEQ;AADhB;AAH2B,CAAD,CAAtC;;AAQA,MAAMO,qBAAqB,GAAG,CAACN,KAAD,EAAQO,KAAR,KAAkB;AAC9CC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,MAAIC,eAAe,GAAGV,KAAK,CAACG,kBAAN,CAAyBI,KAAK,CAACI,IAA/B,EAAqCzB,YAArC,CAAkD0B,GAAlD,CACpBC,CAAC,IAAI;AACH,6BAAYA,CAAZ;AACD,GAHmB,CAAtB;AAKA,SAAO;AACLC,IAAAA,OAAO,EAAEJ,eADJ;AAELrB,IAAAA,IAAI,EAAEW,KAAK,CAACG,kBAAN,CAAyBI,KAAK,CAACI,IAA/B,EAAqCtB;AAFtC,GAAP;AAID,CAXD;;AAaA,MAAM0B,+BAA+B,GAAGhC,cAAc,CACpD,CAAC,oBAAD,CADoD,EAEpDiC,OAAO,IAAI;AACT,SAAOC,MAAM,CAACC,IAAP,CAAYF,OAAZ,EACJG,IADI,GAEJP,GAFI,CAEAD,IAAI,IAAI;AACX,WAAO;AAAEA,MAAAA,IAAI,EAAEA,IAAR;AAActB,MAAAA,IAAI,EAAE2B,OAAO,CAACL,IAAD,CAAP,CAActB;AAAlC,KAAP;AACD,GAJI,CAAP;AAKD,CARmD,CAAtD;MAWQ+B,O,GAAqBjB,kB,CAArBiB,O;MAASC,O,GAAYlB,kB,CAAZkB,O,EAEjB;;AACAD,OAAO,CAAC7B,sBAAR,GAAiCA,sBAAjC;AAEA,SAASwB,+BAAT,EAA0CT,qBAA1C;AACA,SAASc,OAAO,IAAIE,yBAApB;AACA,eAAeD,OAAf","sourcesContent":["import { createSlice, createSelector } from 'redux-starter-kit';\n\nconst initialState = {\n  weight: {\n    measurements: [\n      {\n        timestamp: 1562783942272,\n        entry: 160\n      },\n      {\n        timestamp: 1562797642272,\n        entry: 190\n      },\n      {\n        timestamp: 1562123042272,\n        entry: 80\n      },\n      {\n        timestamp: 1562782452272,\n        entry: 480\n      }\n    ],\n    unit: 'lbs'\n  },\n  waist: {\n    measurements: [\n      {\n        timestamp: 1562783942272,\n        entry: 60\n      },\n      {\n        timestamp: 1562797642272,\n        entry: 90\n      },\n      {\n        timestamp: 1562123042272,\n        entry: 30\n      },\n      {\n        timestamp: 1562782452272,\n        entry: 80\n      }\n    ],\n    unit: 'in'\n  }\n};\n\n// Custom Actions\nfunction addOrUpdateMeasurement(index, type, measurement) {\n  return {\n    type: 'measurementHistory/addOrUpdateMeasurement',\n    meta: {\n      index: index,\n      type: type\n    },\n    payload: {\n      timestamp: Date.now(),\n      measurement: measurement\n    }\n  };\n}\n\n// Reducers\nfunction addOrUpdateMeasurementReducer(state, { payload, meta }) {\n  if (isNaN(meta.index)) {\n    state[meta.type].unshift(payload);\n  } else {\n    state[meta.type][meta.index].measurement = payload.measurement;\n  }\n}\n\nconst measurementHistory = createSlice({\n  slice: 'measurementHistory',\n  initialState: initialState,\n  reducers: {\n    addOrUpdateMeasurement: addOrUpdateMeasurementReducer\n  }\n});\n\nconst getMeasurementHistory = (state, props) => {\n  console.log('selector called');\n  let newMeasurements = state.measurementHistory[props.name].measurements.map(\n    e => {\n      return { ...e };\n    }\n  );\n  return {\n    entries: newMeasurements,\n    unit: state.measurementHistory[props.name].unit\n  };\n};\n\nconst getMeasurementTypesAlphabetized = createSelector(\n  ['measurementHistory'],\n  history => {\n    return Object.keys(history)\n      .sort()\n      .map(name => {\n        return { name: name, unit: history[name].unit };\n      });\n  }\n);\n\nconst { actions, reducer } = measurementHistory;\n\n// Overwite generated actions with custom actions.\nactions.addOrUpdateMeasurement = addOrUpdateMeasurement;\n\nexport { getMeasurementTypesAlphabetized, getMeasurementHistory };\nexport { actions as measurementHistoryActions };\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}