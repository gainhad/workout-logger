{"ast":null,"code":"import _objectSpread from \"/Users/Hadley/src/workout-logger/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { createSlice, createSelector } from 'redux-starter-kit';\nconst initialState = {\n  weight: {\n    measurements: [{\n      timestamp: 1562783942272,\n      measurement: 160\n    }, {\n      timestamp: 1562797642272,\n      measurement: 190\n    }, {\n      timestamp: 1562123042272,\n      measurement: 80\n    }, {\n      timestamp: 1562782452272,\n      measurement: 480\n    }],\n    unit: 'pounds'\n  },\n  waist: {\n    measurements: [{\n      timestamp: 1562783942272,\n      measurement: 60\n    }, {\n      timestamp: 1562797642272,\n      measurement: 90\n    }, {\n      timestamp: 1562123042272,\n      measurement: 30\n    }, {\n      timestamp: 1562782452272,\n      measurement: 80\n    }],\n    unit: 'inches'\n  }\n}; // Custom Actions\n\nfunction addOrUpdateMeasurement(index, type, measurement) {\n  return {\n    type: 'measurementHistory/addOrUpdateMeasurement',\n    meta: {\n      index: index,\n      type: type\n    },\n    payload: {\n      timestamp: Date.now(),\n      measurement: measurement\n    }\n  };\n} // Reducers\n\n\nfunction addOrUpdateMeasurementReducer(state, {\n  payload,\n  meta\n}) {\n  if (isNaN(meta.index)) {\n    state[meta.type].unshift(payload);\n  } else {\n    state[meta.type][meta.index].measurement = payload.measurement;\n  }\n}\n\nconst measurementHistory = createSlice({\n  slice: 'measurementHistory',\n  initialState: initialState,\n  reducers: {\n    addOrUpdateMeasurement: addOrUpdateMeasurementReducer\n  }\n});\n\nconst getMeasurementHistory = (state, props) => {\n  console.log('original: ', state.measurementHistory[props.name].measurements);\n  let newMeasurements = state.measurementHistory[props.name].measurements.map(e => {\n    return _objectSpread({}, e);\n  });\n  newMeasurements[0] = {\n    timestamp: 9999999,\n    measurement: 90\n  };\n  console.log('new: ', newMeasurements);\n  console.log('original: ', state.measurementHistory[props.name].measurements);\n  return {\n    entries: newMeasurements,\n    unit: state.measurementHistory[props.name].unit\n  };\n};\n\nconst getMeasurementTypesAlphabetized = createSelector(['measurementHistory'], history => {\n  return Object.keys(history).sort().map(name => {\n    return {\n      name: name,\n      unit: history[name].unit\n    };\n  });\n});\nconst actions = measurementHistory.actions,\n      reducer = measurementHistory.reducer,\n      selector = measurementHistory.selector; // Overwite generated actions with custom actions.\n\nactions.addOrUpdateMeasurement = addOrUpdateMeasurement;\nexport { getMeasurementTypesAlphabetized, getMeasurementHistory };\nexport { actions as measurementHistoryActions };\nexport default reducer;","map":{"version":3,"sources":["/Users/Hadley/src/workout-logger/src/redux/slices/measurementHistory.js"],"names":["createSlice","createSelector","initialState","weight","measurements","timestamp","measurement","unit","waist","addOrUpdateMeasurement","index","type","meta","payload","Date","now","addOrUpdateMeasurementReducer","state","isNaN","unshift","measurementHistory","slice","reducers","getMeasurementHistory","props","console","log","name","newMeasurements","map","e","entries","getMeasurementTypesAlphabetized","history","Object","keys","sort","actions","reducer","selector","measurementHistoryActions"],"mappings":"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","sourcesContent":["import { createSlice, createSelector } from 'redux-starter-kit';\n\nconst initialState = {\n  weight: {\n    measurements: [\n      {\n        timestamp: 1562783942272,\n        measurement: 160\n      },\n      {\n        timestamp: 1562797642272,\n        measurement: 190\n      },\n      {\n        timestamp: 1562123042272,\n        measurement: 80\n      },\n      {\n        timestamp: 1562782452272,\n        measurement: 480\n      }\n    ],\n    unit: 'pounds'\n  },\n  waist: {\n    measurements: [\n      {\n        timestamp: 1562783942272,\n        measurement: 60\n      },\n      {\n        timestamp: 1562797642272,\n        measurement: 90\n      },\n      {\n        timestamp: 1562123042272,\n        measurement: 30\n      },\n      {\n        timestamp: 1562782452272,\n        measurement: 80\n      }\n    ],\n    unit: 'inches'\n  }\n};\n\n// Custom Actions\nfunction addOrUpdateMeasurement(index, type, measurement) {\n  return {\n    type: 'measurementHistory/addOrUpdateMeasurement',\n    meta: {\n      index: index,\n      type: type\n    },\n    payload: {\n      timestamp: Date.now(),\n      measurement: measurement\n    }\n  };\n}\n\n// Reducers\nfunction addOrUpdateMeasurementReducer(state, { payload, meta }) {\n  if (isNaN(meta.index)) {\n    state[meta.type].unshift(payload);\n  } else {\n    state[meta.type][meta.index].measurement = payload.measurement;\n  }\n}\n\nconst measurementHistory = createSlice({\n  slice: 'measurementHistory',\n  initialState: initialState,\n  reducers: {\n    addOrUpdateMeasurement: addOrUpdateMeasurementReducer\n  }\n});\n\nconst getMeasurementHistory = (state, props) => {\n  console.log('original: ', state.measurementHistory[props.name].measurements);\n  let newMeasurements = state.measurementHistory[props.name].measurements.map(\n    e => {\n      return { ...e };\n    }\n  );\n  newMeasurements[0] = { timestamp: 9999999, measurement: 90 };\n  console.log('new: ', newMeasurements);\n  console.log('original: ', state.measurementHistory[props.name].measurements);\n  return {\n    entries: newMeasurements,\n    unit: state.measurementHistory[props.name].unit\n  };\n};\n\nconst getMeasurementTypesAlphabetized = createSelector(\n  ['measurementHistory'],\n  history => {\n    return Object.keys(history)\n      .sort()\n      .map(name => {\n        return { name: name, unit: history[name].unit };\n      });\n  }\n);\n\nconst { actions, reducer, selector } = measurementHistory;\n\n// Overwite generated actions with custom actions.\nactions.addOrUpdateMeasurement = addOrUpdateMeasurement;\n\nexport { getMeasurementTypesAlphabetized, getMeasurementHistory };\nexport { actions as measurementHistoryActions };\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}