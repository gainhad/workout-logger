{"ast":null,"code":"import { createSlice, createSelector } from 'redux-starter-kit';\nconst initialState = {\n  weight: {\n    entries: [{\n      timestamp: 1562783942272,\n      measurement: 160\n    }, {\n      timestamp: 1562797642272,\n      measurement: 190\n    }, {\n      timestamp: 1562123042272,\n      measurement: 80\n    }, {\n      timestamp: 1562782452272,\n      measurement: 480\n    }],\n    unit: 'pounds'\n  },\n  waist: {\n    entries: [{\n      timestamp: 1562783942272,\n      measurement: 60\n    }, {\n      timestamp: 1562797642272,\n      measurement: 90\n    }, {\n      timestamp: 1562123042272,\n      measurement: 30\n    }, {\n      timestamp: 1562782452272,\n      measurement: 80\n    }],\n    unit: 'inches'\n  }\n}; // Custom Actions\n\nfunction addOrUpdateMeasurement(index, type, measurement) {\n  return {\n    type: 'measurementHistory/addOrUpdateMeasurement',\n    meta: {\n      index: index,\n      type: type\n    },\n    payload: {\n      timestamp: Date.now(),\n      measurement: measurement\n    }\n  };\n} // Reducers\n\n\nfunction addOrUpdateMeasurementReducer(state, {\n  payload,\n  meta\n}) {\n  if (isNaN(meta.index)) {\n    state[meta.type].unshift(payload);\n  } else {\n    state[meta.type][meta.index].measurement = payload.measurement;\n  }\n}\n\nconst measurementHistory = createSlice({\n  slice: 'measurementHistory',\n  initialState: initialState,\n  reducers: {\n    addOrUpdateMeasurement: addOrUpdateMeasurementReducer\n  }\n});\n\nconst getMeasurementHistory = (state, props) => Object.assign({}, measurementHistory.selectors.getMeasurementHistory(state)[props.name]);\n\nconst getMeasurementTypesAlphabetized = createSelector(['measurementHistory'], history => {\n  return Object.keys(history).sort().map(name => {\n    return {\n      name: name,\n      unit: history[name].unit\n    };\n  });\n});\nconst actions = measurementHistory.actions,\n      reducer = measurementHistory.reducer; // Overwite generated actions with custom actions.\n\nactions.addOrUpdateMeasurement = addOrUpdateMeasurement;\nexport { getMeasurementTypesAlphabetized, getMeasurementHistory };\nexport { actions as measurementHistoryActions };\nexport default reducer;","map":{"version":3,"sources":["/Users/Hadley/src/workout-logger/src/redux/slices/measurementHistory.js"],"names":["createSlice","createSelector","initialState","weight","entries","timestamp","measurement","unit","waist","addOrUpdateMeasurement","index","type","meta","payload","Date","now","addOrUpdateMeasurementReducer","state","isNaN","unshift","measurementHistory","slice","reducers","getMeasurementHistory","props","Object","assign","selectors","name","getMeasurementTypesAlphabetized","history","keys","sort","map","actions","reducer","measurementHistoryActions"],"mappings":"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","sourcesContent":["import { createSlice, createSelector } from 'redux-starter-kit';\n\nconst initialState = {\n  weight: {\n    entries: [\n      {\n        timestamp: 1562783942272,\n        measurement: 160\n      },\n      {\n        timestamp: 1562797642272,\n        measurement: 190\n      },\n      {\n        timestamp: 1562123042272,\n        measurement: 80\n      },\n      {\n        timestamp: 1562782452272,\n        measurement: 480\n      }\n    ],\n    unit: 'pounds'\n  },\n  waist: {\n    entries: [\n      {\n        timestamp: 1562783942272,\n        measurement: 60\n      },\n      {\n        timestamp: 1562797642272,\n        measurement: 90\n      },\n      {\n        timestamp: 1562123042272,\n        measurement: 30\n      },\n      {\n        timestamp: 1562782452272,\n        measurement: 80\n      }\n    ],\n    unit: 'inches'\n  }\n};\n\n// Custom Actions\nfunction addOrUpdateMeasurement(index, type, measurement) {\n  return {\n    type: 'measurementHistory/addOrUpdateMeasurement',\n    meta: {\n      index: index,\n      type: type\n    },\n    payload: {\n      timestamp: Date.now(),\n      measurement: measurement\n    }\n  };\n}\n\n// Reducers\nfunction addOrUpdateMeasurementReducer(state, { payload, meta }) {\n  if (isNaN(meta.index)) {\n    state[meta.type].unshift(payload);\n  } else {\n    state[meta.type][meta.index].measurement = payload.measurement;\n  }\n}\n\nconst measurementHistory = createSlice({\n  slice: 'measurementHistory',\n  initialState: initialState,\n  reducers: {\n    addOrUpdateMeasurement: addOrUpdateMeasurementReducer\n  }\n});\n\nconst getMeasurementHistory = (state, props) =>\n  Object.assign(\n    {},\n    measurementHistory.selectors.getMeasurementHistory(state)[props.name]\n  );\n\nconst getMeasurementTypesAlphabetized = createSelector(\n  ['measurementHistory'],\n  history => {\n    return Object.keys(history)\n      .sort()\n      .map(name => {\n        return { name: name, unit: history[name].unit };\n      });\n  }\n);\n\nconst { actions, reducer } = measurementHistory;\n\n// Overwite generated actions with custom actions.\nactions.addOrUpdateMeasurement = addOrUpdateMeasurement;\n\nexport { getMeasurementTypesAlphabetized, getMeasurementHistory };\nexport { actions as measurementHistoryActions };\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}