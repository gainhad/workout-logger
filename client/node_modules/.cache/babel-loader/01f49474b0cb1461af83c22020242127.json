{"ast":null,"code":"import _objectSpread from \"/Users/Hadley/src/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { createSlice, createSelector } from 'redux-starter-kit';\nimport { calculateE1RM } from '../../utils/calculations.js';\nconst initialState = {\n  squat: {\n    byId: {\n      0: {\n        sets: [{\n          weight: 200,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 175,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 225,\n          reps: 8,\n          rpe: 8\n        }],\n        timestamp: 1562704818000\n      },\n      1: {\n        sets: [{\n          weight: 200,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 205,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 235,\n          reps: 8,\n          rpe: 8\n        }],\n        timestamp: 1562618418000\n      },\n      2: {\n        sets: [{\n          weight: 205,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 205,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 215,\n          reps: 8,\n          rpe: 8\n        }],\n        timestamp: 1562445618000\n      },\n      3: {\n        sets: [{\n          weight: 205,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 205,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 235,\n          reps: 8,\n          rpe: 8\n        }],\n        timestamp: 1562272818000\n      },\n      4: {\n        sets: [{\n          weight: 205,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 205,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 245,\n          reps: 8,\n          rpe: 8\n        }],\n        timestamp: 1562100018000\n      }\n    },\n    allIds: [0, 1, 2, 3, 4]\n  },\n  deadlift: {\n    byId: {\n      0: {\n        sets: [{\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }],\n        timestamp: 1562704818000\n      },\n      1: {\n        sets: [{\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }],\n        timestamp: 1562618418000\n      },\n      2: {\n        sets: [{\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }],\n        timestamp: 1562445618000\n      },\n      3: {\n        sets: [{\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }],\n        timestamp: 1562272818000\n      },\n      4: {\n        sets: [{\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }],\n        timestamp: 1562100018000\n      }\n    },\n    allIds: [0, 1, 2, 3, 4]\n  },\n  'bench press': {\n    byId: {\n      0: {\n        sets: [{\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }],\n        timestamp: 1562704818000\n      },\n      1: {\n        sets: [{\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }],\n        timestamp: 1562618418000\n      },\n      2: {\n        sets: [{\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }],\n        timestamp: 1562445618000\n      },\n      3: {\n        sets: [{\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }],\n        timestamp: 1562272818000\n      },\n      4: {\n        sets: [{\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }, {\n          weight: 255,\n          reps: 8,\n          rpe: 8\n        }],\n        timestamp: 1562100018000\n      }\n    },\n    allIds: [0, 1, 2, 3, 4]\n  }\n};\nconst liftHistory = createSlice({\n  slice: 'liftHistory',\n  initialState: initialState,\n  reducers: {}\n});\nconst getLiftNamesAlphabetized = createSelector(['liftHistory'], lifts => Object.keys(lifts).sort());\n\nconst getLift = (state, props) => {\n  console.log('get lift selector called');\n  return state.liftHistory[props.name];\n};\n\nconst getHistoryForLift = createSelector([getLift], liftData => Object.values(liftData.byId).sort((liftA, liftB) => liftB.timestamp - liftA.timestamp));\nconst getHeaviestSetHistoryForLift = createSelector([getHistoryForLift], liftHistory => liftHistory.map(entry => {\n  return {\n    heaviestSet: entry.sets.slice().sort((setA, setB) => setB.weight - setA.weight)[0],\n    timestamp: entry.timestamp\n  };\n}));\nconst getE1RMHistoryForLift = createSelector([getHeaviestSetHistoryForLift], heaviestSets => {\n  return {\n    entries: heaviestSets.filter(entry => entry.heaviestSet.rpe >= 6.5).map(entry => {\n      return {\n        e1rm: calculateE1RM(entry.heaviestSet.weight, entry.heaviestSet.reps, entry.heaviestSet.rpe),\n        timestamp: entry.timestamp\n      };\n    }),\n    unit: 'lbs'\n  };\n});\nconst testState = {\n  liftHistory: _objectSpread({}, initialState)\n};\nconst actions = liftHistory.actions,\n      reducer = liftHistory.reducer;\nexport { getLiftNamesAlphabetized, getHistoryForLift, getHeaviestSetHistoryForLift, getE1RMHistoryForLift };\nexport { actions as liftHistoryActions };\nexport default reducer;","map":{"version":3,"sources":["/Users/Hadley/src/client/src/redux/slices/liftHistory.js"],"names":["createSlice","createSelector","calculateE1RM","initialState","squat","byId","sets","weight","reps","rpe","timestamp","allIds","deadlift","liftHistory","slice","reducers","getLiftNamesAlphabetized","lifts","Object","keys","sort","getLift","state","props","console","log","name","getHistoryForLift","liftData","values","liftA","liftB","getHeaviestSetHistoryForLift","map","entry","heaviestSet","setA","setB","getE1RMHistoryForLift","heaviestSets","entries","filter","e1rm","unit","testState","actions","reducer","liftHistoryActions"],"mappings":";AAAA,SAASA,WAAT,EAAsBC,cAAtB,QAA4C,mBAA5C;AACA,SAASC,aAAT,QAA8B,6BAA9B;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE;AACJ,SAAG;AACDC,QAAAA,IAAI,EAAE,CACJ;AACEC,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SADI,EAMJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SANI,EAWJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SAXI,CADL;AAkBDC,QAAAA,SAAS,EAAE;AAlBV,OADC;AAqBJ,SAAG;AACDJ,QAAAA,IAAI,EAAE,CACJ;AACEC,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SADI,EAMJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SANI,EAWJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SAXI,CADL;AAkBDC,QAAAA,SAAS,EAAE;AAlBV,OArBC;AAyCJ,SAAG;AACDJ,QAAAA,IAAI,EAAE,CACJ;AACEC,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SADI,EAMJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SANI,EAWJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SAXI,CADL;AAkBDC,QAAAA,SAAS,EAAE;AAlBV,OAzCC;AA6DJ,SAAG;AACDJ,QAAAA,IAAI,EAAE,CACJ;AACEC,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SADI,EAMJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SANI,EAWJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SAXI,CADL;AAkBDC,QAAAA,SAAS,EAAE;AAlBV,OA7DC;AAiFJ,SAAG;AACDJ,QAAAA,IAAI,EAAE,CACJ;AACEC,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SADI,EAMJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SANI,EAWJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SAXI,CADL;AAkBDC,QAAAA,SAAS,EAAE;AAlBV;AAjFC,KADD;AAuGLC,IAAAA,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb;AAvGH,GADY;AA0GnBC,EAAAA,QAAQ,EAAE;AACRP,IAAAA,IAAI,EAAE;AACJ,SAAG;AACDC,QAAAA,IAAI,EAAE,CACJ;AACEC,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SADI,EAMJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SANI,EAWJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SAXI,CADL;AAkBDC,QAAAA,SAAS,EAAE;AAlBV,OADC;AAqBJ,SAAG;AACDJ,QAAAA,IAAI,EAAE,CACJ;AACEC,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SADI,EAMJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SANI,EAWJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SAXI,CADL;AAkBDC,QAAAA,SAAS,EAAE;AAlBV,OArBC;AAyCJ,SAAG;AACDJ,QAAAA,IAAI,EAAE,CACJ;AACEC,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SADI,EAMJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SANI,EAWJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SAXI,CADL;AAkBDC,QAAAA,SAAS,EAAE;AAlBV,OAzCC;AA6DJ,SAAG;AACDJ,QAAAA,IAAI,EAAE,CACJ;AACEC,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SADI,EAMJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SANI,EAWJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SAXI,CADL;AAkBDC,QAAAA,SAAS,EAAE;AAlBV,OA7DC;AAiFJ,SAAG;AACDJ,QAAAA,IAAI,EAAE,CACJ;AACEC,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SADI,EAMJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SANI,EAWJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SAXI,CADL;AAkBDC,QAAAA,SAAS,EAAE;AAlBV;AAjFC,KADE;AAuGRC,IAAAA,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb;AAvGA,GA1GS;AAmNnB,iBAAe;AACbN,IAAAA,IAAI,EAAE;AACJ,SAAG;AACDC,QAAAA,IAAI,EAAE,CACJ;AACEC,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SADI,EAMJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SANI,EAWJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SAXI,CADL;AAkBDC,QAAAA,SAAS,EAAE;AAlBV,OADC;AAqBJ,SAAG;AACDJ,QAAAA,IAAI,EAAE,CACJ;AACEC,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SADI,EAMJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SANI,EAWJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SAXI,CADL;AAkBDC,QAAAA,SAAS,EAAE;AAlBV,OArBC;AAyCJ,SAAG;AACDJ,QAAAA,IAAI,EAAE,CACJ;AACEC,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SADI,EAMJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SANI,EAWJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SAXI,CADL;AAkBDC,QAAAA,SAAS,EAAE;AAlBV,OAzCC;AA6DJ,SAAG;AACDJ,QAAAA,IAAI,EAAE,CACJ;AACEC,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SADI,EAMJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SANI,EAWJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SAXI,CADL;AAkBDC,QAAAA,SAAS,EAAE;AAlBV,OA7DC;AAiFJ,SAAG;AACDJ,QAAAA,IAAI,EAAE,CACJ;AACEC,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SADI,EAMJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SANI,EAWJ;AACEF,UAAAA,MAAM,EAAE,GADV;AAEEC,UAAAA,IAAI,EAAE,CAFR;AAGEC,UAAAA,GAAG,EAAE;AAHP,SAXI,CADL;AAkBDC,QAAAA,SAAS,EAAE;AAlBV;AAjFC,KADO;AAuGbC,IAAAA,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb;AAvGK;AAnNI,CAArB;AA8TA,MAAME,WAAW,GAAGb,WAAW,CAAC;AAC9Bc,EAAAA,KAAK,EAAE,aADuB;AAE9BX,EAAAA,YAAY,EAAEA,YAFgB;AAG9BY,EAAAA,QAAQ,EAAE;AAHoB,CAAD,CAA/B;AAMA,MAAMC,wBAAwB,GAAGf,cAAc,CAC7C,CAAC,aAAD,CAD6C,EAE7CgB,KAAK,IAAIC,MAAM,CAACC,IAAP,CAAYF,KAAZ,EAAmBG,IAAnB,EAFoC,CAA/C;;AAKA,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAQC,KAAR,KAAkB;AAChCC,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACA,SAAOH,KAAK,CAACT,WAAN,CAAkBU,KAAK,CAACG,IAAxB,CAAP;AACD,CAHD;;AAKA,MAAMC,iBAAiB,GAAG1B,cAAc,CACtC,CAACoB,OAAD,CADsC,EAEtCO,QAAQ,IACNV,MAAM,CAACW,MAAP,CAAcD,QAAQ,CAACvB,IAAvB,EAA6Be,IAA7B,CACE,CAACU,KAAD,EAAQC,KAAR,KAAkBA,KAAK,CAACrB,SAAN,GAAkBoB,KAAK,CAACpB,SAD5C,CAHoC,CAAxC;AAQA,MAAMsB,4BAA4B,GAAG/B,cAAc,CACjD,CAAC0B,iBAAD,CADiD,EAEjDd,WAAW,IACTA,WAAW,CAACoB,GAAZ,CAAgBC,KAAK,IAAI;AACvB,SAAO;AACLC,IAAAA,WAAW,EAAED,KAAK,CAAC5B,IAAN,CACVQ,KADU,GAEVM,IAFU,CAEL,CAACgB,IAAD,EAAOC,IAAP,KAAgBA,IAAI,CAAC9B,MAAL,GAAc6B,IAAI,CAAC7B,MAF9B,EAEsC,CAFtC,CADR;AAILG,IAAAA,SAAS,EAAEwB,KAAK,CAACxB;AAJZ,GAAP;AAMD,CAPD,CAH+C,CAAnD;AAaA,MAAM4B,qBAAqB,GAAGrC,cAAc,CAC1C,CAAC+B,4BAAD,CAD0C,EAE1CO,YAAY,IAAI;AACd,SAAO;AACLC,IAAAA,OAAO,EAAED,YAAY,CAClBE,MADM,CACCP,KAAK,IAAIA,KAAK,CAACC,WAAN,CAAkB1B,GAAlB,IAAyB,GADnC,EAENwB,GAFM,CAEFC,KAAK,IAAI;AACZ,aAAO;AACLQ,QAAAA,IAAI,EAAExC,aAAa,CACjBgC,KAAK,CAACC,WAAN,CAAkB5B,MADD,EAEjB2B,KAAK,CAACC,WAAN,CAAkB3B,IAFD,EAGjB0B,KAAK,CAACC,WAAN,CAAkB1B,GAHD,CADd;AAMLC,QAAAA,SAAS,EAAEwB,KAAK,CAACxB;AANZ,OAAP;AAQD,KAXM,CADJ;AAaLiC,IAAAA,IAAI,EAAE;AAbD,GAAP;AAeD,CAlByC,CAA5C;AAqBA,MAAMC,SAAS,GAAG;AAChB/B,EAAAA,WAAW,oBAAOV,YAAP;AADK,CAAlB;MAIQ0C,O,GAAqBhC,W,CAArBgC,O;MAASC,O,GAAYjC,W,CAAZiC,O;AAEjB,SACE9B,wBADF,EAEEW,iBAFF,EAGEK,4BAHF,EAIEM,qBAJF;AAMA,SAASO,OAAO,IAAIE,kBAApB;AACA,eAAeD,OAAf","sourcesContent":["import { createSlice, createSelector } from 'redux-starter-kit';\nimport { calculateE1RM } from '../../utils/calculations.js';\n\nconst initialState = {\n  squat: {\n    byId: {\n      0: {\n        sets: [\n          {\n            weight: 200,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 175,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 225,\n            reps: 8,\n            rpe: 8\n          }\n        ],\n        timestamp: 1562704818000\n      },\n      1: {\n        sets: [\n          {\n            weight: 200,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 205,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 235,\n            reps: 8,\n            rpe: 8\n          }\n        ],\n        timestamp: 1562618418000\n      },\n      2: {\n        sets: [\n          {\n            weight: 205,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 205,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 215,\n            reps: 8,\n            rpe: 8\n          }\n        ],\n        timestamp: 1562445618000\n      },\n      3: {\n        sets: [\n          {\n            weight: 205,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 205,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 235,\n            reps: 8,\n            rpe: 8\n          }\n        ],\n        timestamp: 1562272818000\n      },\n      4: {\n        sets: [\n          {\n            weight: 205,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 205,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 245,\n            reps: 8,\n            rpe: 8\n          }\n        ],\n        timestamp: 1562100018000\n      }\n    },\n    allIds: [0, 1, 2, 3, 4]\n  },\n  deadlift: {\n    byId: {\n      0: {\n        sets: [\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          }\n        ],\n        timestamp: 1562704818000\n      },\n      1: {\n        sets: [\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          }\n        ],\n        timestamp: 1562618418000\n      },\n      2: {\n        sets: [\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          }\n        ],\n        timestamp: 1562445618000\n      },\n      3: {\n        sets: [\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          }\n        ],\n        timestamp: 1562272818000\n      },\n      4: {\n        sets: [\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          }\n        ],\n        timestamp: 1562100018000\n      }\n    },\n    allIds: [0, 1, 2, 3, 4]\n  },\n  'bench press': {\n    byId: {\n      0: {\n        sets: [\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          }\n        ],\n        timestamp: 1562704818000\n      },\n      1: {\n        sets: [\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          }\n        ],\n        timestamp: 1562618418000\n      },\n      2: {\n        sets: [\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          }\n        ],\n        timestamp: 1562445618000\n      },\n      3: {\n        sets: [\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          }\n        ],\n        timestamp: 1562272818000\n      },\n      4: {\n        sets: [\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          },\n          {\n            weight: 255,\n            reps: 8,\n            rpe: 8\n          }\n        ],\n        timestamp: 1562100018000\n      }\n    },\n    allIds: [0, 1, 2, 3, 4]\n  }\n};\n\nconst liftHistory = createSlice({\n  slice: 'liftHistory',\n  initialState: initialState,\n  reducers: {}\n});\n\nconst getLiftNamesAlphabetized = createSelector(\n  ['liftHistory'],\n  lifts => Object.keys(lifts).sort()\n);\n\nconst getLift = (state, props) => {\n  console.log('get lift selector called');\n  return state.liftHistory[props.name];\n};\n\nconst getHistoryForLift = createSelector(\n  [getLift],\n  liftData =>\n    Object.values(liftData.byId).sort(\n      (liftA, liftB) => liftB.timestamp - liftA.timestamp\n    )\n);\n\nconst getHeaviestSetHistoryForLift = createSelector(\n  [getHistoryForLift],\n  liftHistory =>\n    liftHistory.map(entry => {\n      return {\n        heaviestSet: entry.sets\n          .slice()\n          .sort((setA, setB) => setB.weight - setA.weight)[0],\n        timestamp: entry.timestamp\n      };\n    })\n);\n\nconst getE1RMHistoryForLift = createSelector(\n  [getHeaviestSetHistoryForLift],\n  heaviestSets => {\n    return {\n      entries: heaviestSets\n        .filter(entry => entry.heaviestSet.rpe >= 6.5)\n        .map(entry => {\n          return {\n            e1rm: calculateE1RM(\n              entry.heaviestSet.weight,\n              entry.heaviestSet.reps,\n              entry.heaviestSet.rpe\n            ),\n            timestamp: entry.timestamp\n          };\n        }),\n      unit: 'lbs'\n    };\n  }\n);\n\nconst testState = {\n  liftHistory: { ...initialState }\n};\n\nconst { actions, reducer } = liftHistory;\n\nexport {\n  getLiftNamesAlphabetized,\n  getHistoryForLift,\n  getHeaviestSetHistoryForLift,\n  getE1RMHistoryForLift\n};\nexport { actions as liftHistoryActions };\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}