{"ast":null,"code":"import { createSlice, createSelector } from 'redux-starter-kit';\nconst initialState = {\n  weight: {\n    measurements: [{\n      timestamp: 1562783942272,\n      measurement: 160\n    }, {\n      timestamp: 1562797642272,\n      measurement: 190\n    }, {\n      timestamp: 1562123042272,\n      measurement: 80\n    }, {\n      timestamp: 1562782452272,\n      measurement: 480\n    }],\n    unit: 'pounds'\n  },\n  waist: {\n    measurements: [{\n      timestamp: 1562783942272,\n      measurement: 60\n    }, {\n      timestamp: 1562797642272,\n      measurement: 90\n    }, {\n      timestamp: 1562123042272,\n      measurement: 30\n    }, {\n      timestamp: 1562782452272,\n      measurement: 80\n    }],\n    unit: 'inches'\n  }\n}; // Custom Actions\n\nfunction addOrUpdateMeasurement(index, type, measurement) {\n  return {\n    type: 'measurementHistory/addOrUpdateMeasurement',\n    meta: {\n      index: index,\n      type: type\n    },\n    payload: {\n      timestamp: Date.now(),\n      measurement: measurement\n    }\n  };\n} // Reducers\n\n\nfunction addOrUpdateMeasurementReducer(state, {\n  payload,\n  meta\n}) {\n  if (isNaN(meta.index)) {\n    state[meta.type].unshift(payload);\n  } else {\n    state[meta.type][meta.index].measurement = payload.measurement;\n  }\n}\n\nconst measurementHistory = createSlice({\n  slice: 'measurementHistory',\n  initialState: initialState,\n  reducers: {\n    addOrUpdateMeasurement: addOrUpdateMeasurementReducer\n  }\n});\nconsole.log(measurementHistory);\n\nconst getMeasurementHistory = (state, props) => measurementHistory.selectors.getMeasurementHistory;\n\nconst getMeasurementTypesAlphabetized = createSelector(['measurementHistory'], history => {\n  return Object.keys(history).sort().map(name => {\n    return {\n      name: name,\n      unit: history[name].unit\n    };\n  });\n});\nconst actions = measurementHistory.actions,\n      reducer = measurementHistory.reducer; // Overwite generated actions with custom actions.\n\nactions.addOrUpdateMeasurement = addOrUpdateMeasurement;\nexport { getMeasurementTypesAlphabetized, getMeasurementHistory };\nexport { actions as measurementHistoryActions };\nexport default reducer;","map":{"version":3,"sources":["/Users/Hadley/src/workout-logger/src/redux/slices/measurementHistory.js"],"names":["createSlice","createSelector","initialState","weight","measurements","timestamp","measurement","unit","waist","addOrUpdateMeasurement","index","type","meta","payload","Date","now","addOrUpdateMeasurementReducer","state","isNaN","unshift","measurementHistory","slice","reducers","console","log","getMeasurementHistory","props","selectors","getMeasurementTypesAlphabetized","history","Object","keys","sort","map","name","actions","reducer","measurementHistoryActions"],"mappings":"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","sourcesContent":["import { createSlice, createSelector } from 'redux-starter-kit';\n\nconst initialState = {\n  weight: {\n    measurements: [\n      {\n        timestamp: 1562783942272,\n        measurement: 160\n      },\n      {\n        timestamp: 1562797642272,\n        measurement: 190\n      },\n      {\n        timestamp: 1562123042272,\n        measurement: 80\n      },\n      {\n        timestamp: 1562782452272,\n        measurement: 480\n      }\n    ],\n    unit: 'pounds'\n  },\n  waist: {\n    measurements: [\n      {\n        timestamp: 1562783942272,\n        measurement: 60\n      },\n      {\n        timestamp: 1562797642272,\n        measurement: 90\n      },\n      {\n        timestamp: 1562123042272,\n        measurement: 30\n      },\n      {\n        timestamp: 1562782452272,\n        measurement: 80\n      }\n    ],\n    unit: 'inches'\n  }\n};\n\n// Custom Actions\nfunction addOrUpdateMeasurement(index, type, measurement) {\n  return {\n    type: 'measurementHistory/addOrUpdateMeasurement',\n    meta: {\n      index: index,\n      type: type\n    },\n    payload: {\n      timestamp: Date.now(),\n      measurement: measurement\n    }\n  };\n}\n\n// Reducers\nfunction addOrUpdateMeasurementReducer(state, { payload, meta }) {\n  if (isNaN(meta.index)) {\n    state[meta.type].unshift(payload);\n  } else {\n    state[meta.type][meta.index].measurement = payload.measurement;\n  }\n}\n\nconst measurementHistory = createSlice({\n  slice: 'measurementHistory',\n  initialState: initialState,\n  reducers: {\n    addOrUpdateMeasurement: addOrUpdateMeasurementReducer\n  }\n});\n\nconsole.log(measurementHistory);\n\nconst getMeasurementHistory = (state, props) =>\n  measurementHistory.selectors.getMeasurementHistory;\n\nconst getMeasurementTypesAlphabetized = createSelector(\n  ['measurementHistory'],\n  history => {\n    return Object.keys(history)\n      .sort()\n      .map(name => {\n        return { name: name, unit: history[name].unit };\n      });\n  }\n);\n\nconst { actions, reducer } = measurementHistory;\n\n// Overwite generated actions with custom actions.\nactions.addOrUpdateMeasurement = addOrUpdateMeasurement;\n\nexport { getMeasurementTypesAlphabetized, getMeasurementHistory };\nexport { actions as measurementHistoryActions };\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}